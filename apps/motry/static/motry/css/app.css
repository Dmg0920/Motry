@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap");

:root {
	/* 精緻的深色配色 */
	--color-bg: #0a0e1a;
	--color-bg-elevated: #12172a;
	--color-surface: rgba(18, 23, 42, 0.85);
	--color-surface-hover: rgba(24, 30, 54, 0.95);

	/* 邊框顏色 */
	--color-border: rgba(99, 110, 142, 0.15);
	--color-border-strong: rgba(99, 110, 142, 0.3);
	--color-border-focus: rgba(139, 92, 246, 0.5);

	/* 品牌色 - 更優雅的紫藍漸變 */
	--color-brand: #8b5cf6;
	--color-brand-light: #a78bfa;
	--color-brand-dark: #7c3aed;
	--color-accent: #06b6d4;
	--color-accent-light: #22d3ee;

	/* 語意色彩 */
	--color-success: #10b981;
	--color-danger: #ef4444;
	--color-warning: #f59e0b;
	--color-info: #3b82f6;

	/* 文字顏色 */
	--color-text: #f1f5f9;
	--color-text-secondary: #94a3b8;
	--color-text-muted: #64748b;

	/* 圓角 */
	--radius-xl: 24px;
	--radius-lg: 16px;
	--radius-md: 12px;
	--radius-sm: 8px;
	--radius-xs: 6px;

	/* 陰影 - 更柔和的陰影 */
	--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
	--shadow-md: 0 4px 16px rgba(0, 0, 0, 0.15);
	--shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.2);
	--shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.25);

	/* 玻璃效果 */
	--glass-bg: rgba(18, 23, 42, 0.7);
	--glass-border: rgba(255, 255, 255, 0.1);

	/* 過渡效果 */
	--transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
	--transition-base: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
	--transition-slow: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========== 基礎樣式 ========== */
*,
*::before,
*::after {
	box-sizing: border-box;
}

html,
body {
	margin: 0;
	padding: 0;
	min-height: 100%;
	font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	color: var(--color-text);
	background: var(--color-bg);
	line-height: 1.6;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

a {
	color: var(--color-brand-light);
	text-decoration: none;
	transition: var(--transition-fast);
}

a:hover {
	color: var(--color-accent-light);
}

img {
	max-width: 100%;
	display: block;
	border-radius: var(--radius-lg);
}

button,
input,
select,
textarea {
	font-family: inherit;
	font-size: 1rem;
}

button {
	cursor: pointer;
	border: none;
	background: none;
	transition: var(--transition-base);
}

/* ========== 佈局 ========== */
.page-container {
	width: min(1280px, calc(100% - 48px));
	margin: 0 auto;
	position: relative;
	z-index: 2;
}

.page-stack {
	display: grid;
	gap: 32px;
	padding-bottom: 64px;
}

.stack-sm {
	display: grid;
	gap: 16px;
}

.layout {
	display: grid;
	gap: 24px;
}

.layout--split {
	grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	align-items: start;
}

.layout--with-sidebar {
	grid-template-columns: 280px 1fr;
	gap: 32px;
}

/* ========== 導航欄 ========== */
.site-header {
	position: sticky;
	top: 0;
	z-index: 100;
	background: rgba(10, 14, 26, 0.8);
	backdrop-filter: blur(20px) saturate(180%);
	border-bottom: 1px solid var(--color-border);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.nav-bar {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 24px;
	padding: 16px 0;
	min-height: 72px;
}

.nav-left {
	display: flex;
	align-items: center;
	gap: 32px;
}

.nav-brand {
	font-size: 1.5rem;
	font-weight: 800;
	background: linear-gradient(135deg, var(--color-brand-light), var(--color-accent-light));
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
	letter-spacing: -0.02em;
	transition: var(--transition-base);
}

.nav-brand:hover {
	transform: scale(1.05);
	filter: brightness(1.2);
}

.nav-links {
	display: flex;
	gap: 4px;
	align-items: center;
}

.nav-link {
	font-size: 0.95rem;
	font-weight: 500;
	color: var(--color-text-secondary);
	padding: 8px 16px;
	border-radius: var(--radius-md);
	transition: var(--transition-fast);
	position: relative;
}

.nav-link:hover {
	color: var(--color-text);
	background: var(--color-surface);
}

.nav-link.active {
	color: var(--color-text);
	background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(6, 182, 212, 0.15));
}

.nav-link.active::after {
	content: "";
	position: absolute;
	bottom: 0;
	left: 16px;
	right: 16px;
	height: 2px;
	background: linear-gradient(90deg, var(--color-brand), var(--color-accent));
	border-radius: 2px;
}

.nav-actions {
	display: flex;
	align-items: center;
	gap: 12px;
}

.nav-user {
	color: var(--color-text);
	font-weight: 600;
	padding: 8px 16px;
	border-radius: var(--radius-md);
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	font-size: 0.9rem;
}

.nav-logout {
	margin: 0;
}

/* 搜尋列 */
.nav-search-row {
	padding: 0 0 20px;
}

.nav-search {
	display: grid;
	grid-template-columns: 1fr auto auto auto;
	gap: 12px;
	background: var(--glass-bg);
	backdrop-filter: blur(20px);
	border-radius: var(--radius-lg);
	padding: 16px;
	border: 1px solid var(--glass-border);
	box-shadow: var(--shadow-md);
}

.nav-search input {
	width: 100%;
	border: 1px solid var(--color-border);
	background: var(--color-surface);
	padding: 12px 16px;
	border-radius: var(--radius-md);
	color: var(--color-text);
	transition: var(--transition-fast);
}

.nav-search input:focus {
	outline: none;
	border-color: var(--color-border-focus);
	box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.nav-search input::placeholder {
	color: var(--color-text-muted);
}

/* ========== 主內容區 ========== */
.main-content {
	padding: 48px 0 64px;
	position: relative;
	z-index: 2;
}

/* ========== 按鈕 ========== */
.button {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 12px 24px;
	border-radius: var(--radius-md);
	font-weight: 600;
	font-size: 0.95rem;
	transition: var(--transition-base);
	position: relative;
	overflow: hidden;

	background: linear-gradient(135deg, var(--color-brand), var(--color-brand-dark));
	color: white;
	box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.button::before {
	content: "";
	position: absolute;
	inset: 0;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
	opacity: 0;
	transition: var(--transition-fast);
}

.button:hover {
	transform: translateY(-2px);
	box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
}

.button:hover::before {
	opacity: 1;
}

.button:active {
	transform: translateY(0);
}

.button-ghost {
	background: transparent;
	color: var(--color-brand-light);
	border: 1px solid var(--color-border-strong);
	box-shadow: none;
}

.button-ghost:hover {
	background: var(--color-surface);
	border-color: var(--color-brand);
	transform: translateY(-1px);
}

.button-compact {
	padding: 8px 16px;
	font-size: 0.9rem;
}

.button-danger {
	background: linear-gradient(135deg, var(--color-danger), #dc2626);
	box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.button-danger:hover {
	box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
}

/* ========== 卡片 ========== */
.card {
	background: var(--glass-bg);
	backdrop-filter: blur(20px) saturate(180%);
	border-radius: var(--radius-xl);
	border: 1px solid var(--glass-border);
	padding: 32px;
	box-shadow: var(--shadow-lg);
	position: relative;
	overflow: hidden;
	transition: var(--transition-base);
}

.card::before {
	content: "";
	position: absolute;
	inset: 0;
	background: radial-gradient(circle at top left, rgba(139, 92, 246, 0.05), transparent 50%);
	opacity: 0;
	transition: var(--transition-base);
	pointer-events: none;
}

.card:hover {
	transform: translateY(-4px);
	box-shadow: var(--shadow-xl);
	border-color: rgba(255, 255, 255, 0.15);
}

.card:hover::before {
	opacity: 1;
}

.card--hero {
	padding: 48px;
	background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.05));
}

/* ========== Hero 區塊 ========== */
.hero-title {
	font-size: clamp(2rem, 4vw, 3rem);
	line-height: 1.1;
	margin: 0;
	font-weight: 800;
	background: linear-gradient(135deg, var(--color-text), var(--color-text-secondary));
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
	letter-spacing: -0.02em;
}

.hero-subtitle {
	margin: 12px 0 0;
	color: var(--color-text-secondary);
	font-size: 1.1rem;
	line-height: 1.7;
}

.hero-subtitle--compact {
	font-size: 0.95rem;
	color: var(--color-text-muted);
}

.hero-actions {
	display: flex;
	flex-wrap: wrap;
	gap: 12px;
	margin-top: 28px;
}

/* ========== 徽章 ========== */
.badge {
	display: inline-flex;
	align-items: center;
	padding: 6px 14px;
	border-radius: 999px;
	background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.1));
	border: 1px solid rgba(139, 92, 246, 0.3);
	font-size: 0.85rem;
	font-weight: 700;
	letter-spacing: 0.05em;
	text-transform: uppercase;
	color: var(--color-brand-light);
}

/* ========== 快速搜尋表單 ========== */
.quick-search {
	display: grid;
	gap: 16px;
	margin-top: 20px;
}

.quick-search__row {
	display: grid;
	gap: 12px;
	grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
}

.quick-search__row input,
.quick-search__row select {
	width: 100%;
	padding: 12px 16px;
	border: 1px solid var(--color-border);
	background: var(--color-surface);
	border-radius: var(--radius-md);
	color: var(--color-text);
	transition: var(--transition-fast);
}

.quick-search__row input:focus,
.quick-search__row select:focus {
	outline: none;
	border-color: var(--color-border-focus);
	box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.quick-search__row label {
	display: block;
	font-size: 0.85rem;
	font-weight: 600;
	color: var(--color-text-secondary);
	margin-bottom: 6px;
}

.quick-search__row span {
	display: flex;
	flex-direction: column;
}

/* ========== Select 樣式 ========== */
select {
	appearance: none;
	width: 100%;
	padding: 12px 40px 12px 16px;
	border: 1px solid var(--color-border);
	background: var(--color-surface) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 12px center;
	background-size: 16px;
	border-radius: var(--radius-md);
	color: var(--color-text);
	font-weight: 500;
	transition: var(--transition-fast);
	cursor: pointer;
}

select:hover {
	border-color: var(--color-border-strong);
}

select:focus {
	outline: none;
	border-color: var(--color-border-focus);
	box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.form-select {
	width: 100%;
}

.form-select--compact {
	padding: 10px 36px 10px 14px;
	font-size: 0.9rem;
}

/* ========== 芯片/標籤 ========== */
.chip-list,
.tag-cloud,
.pill-list {
	display: flex;
	flex-wrap: wrap;
	gap: 10px;
	padding: 0;
	margin: 0;
	list-style: none;
}

.chip,
.tag-pill,
.pill {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	padding: 8px 16px;
	border-radius: 999px;
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	font-size: 0.9rem;
	font-weight: 600;
	color: var(--color-text-secondary);
	transition: var(--transition-fast);
}

.chip:hover,
.tag-pill:hover {
	background: var(--color-surface-hover);
	border-color: var(--color-brand);
	color: var(--color-text);
	transform: translateY(-2px);
	box-shadow: var(--shadow-md);
}

.pill--compact {
	padding: 6px 12px;
	font-size: 0.85rem;
}

/* ========== 區塊標題 ========== */
.section-heading {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
	gap: 24px;
	flex-wrap: wrap;
	margin-bottom: 24px;
}

.section-heading h2 {
	margin: 0;
	font-size: 1.75rem;
	font-weight: 700;
	color: var(--color-text);
}

/* ========== 車輛網格 ========== */
.vehicle-grid,
.recommended-grid {
	display: grid;
	gap: 24px;
	grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.vehicle-grid__card,
.recommended-card,
.vehicle-card {
	display: grid;
	gap: 16px;
	background: var(--glass-bg);
	backdrop-filter: blur(20px);
	border-radius: var(--radius-lg);
	border: 1px solid var(--glass-border);
	padding: 20px;
	transition: var(--transition-base);
	cursor: pointer;
}

.vehicle-grid__card:hover,
.recommended-card:hover,
.vehicle-card:hover {
	transform: translateY(-4px);
	box-shadow: var(--shadow-xl);
	border-color: rgba(139, 92, 246, 0.3);
}

.vehicle-grid__media,
.recommended-card__media,
.vehicle-card__media {
	height: 200px;
	border-radius: var(--radius-md);
	overflow: hidden;
	background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2));
	position: relative;
}

.vehicle-grid__media img,
.recommended-card__media img,
.vehicle-card__media img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	transition: var(--transition-slow);
}

.vehicle-grid__card:hover img,
.recommended-card:hover img,
.vehicle-card:hover img {
	transform: scale(1.05);
}

.vehicle-grid__body,
.recommended-card__body,
.vehicle-card__body {
	display: grid;
	gap: 8px;
}

.vehicle-grid__body h4,
.recommended-card__body h4,
.vehicle-card__body h4 {
	margin: 0;
	font-size: 1.1rem;
	font-weight: 600;
	color: var(--color-text);
}

.vehicle-grid__body small,
.recommended-card__body small,
.vehicle-card__body small {
	color: var(--color-text-muted);
	font-size: 0.9rem;
}

/* ========== 車庫卡片操作 ========== */
.garage-card__actions {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
	align-items: center;
	border-top: 1px solid var(--color-border);
	padding-top: 16px;
	margin-top: 8px;
}

/* ========== 空狀態 ========== */
.empty-state {
	color: var(--color-text-secondary);
	background: var(--color-surface);
	padding: 32px 24px;
	border-radius: var(--radius-lg);
	border: 1px dashed var(--color-border-strong);
	text-align: center;
	font-size: 1rem;
}

.empty-state--compact {
	padding: 24px;
	font-size: 0.95rem;
}

/* ========== 閃爍消息 ========== */
.flash-list {
	list-style: none;
	margin: 0 0 24px;
	padding: 0;
	display: grid;
	gap: 12px;
}

.flash {
	padding: 16px 20px;
	border-radius: var(--radius-lg);
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	font-weight: 500;
	display: flex;
	align-items: center;
	gap: 12px;
	backdrop-filter: blur(20px);
}

.flash.success {
	background: rgba(16, 185, 129, 0.1);
	border-color: var(--color-success);
	color: #6ee7b7;
}

.flash.error {
	background: rgba(239, 68, 68, 0.1);
	border-color: var(--color-danger);
	color: #fca5a5;
}

.flash.info {
	background: rgba(59, 130, 246, 0.1);
	border-color: var(--color-info);
	color: #93c5fd;
}

/* ========== 表單樣式 ========== */
.form-card {
	max-width: 720px;
	margin: 0 auto;
}

.form-row {
	display: grid;
	gap: 8px;
	margin-bottom: 20px;
}

.form-row label {
	font-weight: 600;
	color: var(--color-text);
	font-size: 0.95rem;
}

.form-grid input,
.form-grid textarea,
.form-grid select {
	padding: 12px 16px;
	border-radius: var(--radius-md);
	border: 1px solid var(--color-border);
	background: var(--color-surface);
	color: var(--color-text);
	transition: var(--transition-fast);
	width: 100%;
}

.form-grid input:focus,
.form-grid textarea:focus,
.form-grid select:focus {
	outline: none;
	border-color: var(--color-border-focus);
	box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.form-grid textarea {
	min-height: 120px;
	resize: vertical;
}

.form-actions {
	display: flex;
	gap: 12px;
	flex-wrap: wrap;
	margin-top: 24px;
}

/* ========== 貼文卡片 ========== */
.post-stack,
.post-card {
	display: grid;
	gap: 20px;
}

.post-card {
	background: var(--glass-bg);
	backdrop-filter: blur(20px);
	border-radius: var(--radius-lg);
	border: 1px solid var(--glass-border);
	padding: 24px;
	transition: var(--transition-base);
}

.post-card:hover {
	border-color: rgba(139, 92, 246, 0.3);
	box-shadow: var(--shadow-lg);
}

.post-card__meta {
	display: flex;
	flex-direction: column;
	gap: 12px;
	border-top: 1px solid var(--color-border);
	margin-top: 16px;
	padding-top: 16px;
}

.post-card__meta-info {
	display: flex;
	flex-wrap: wrap;
	gap: 16px;
	color: var(--color-text-secondary);
	font-size: 0.9rem;
}

.post-card__actions {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-wrap: wrap;
}

.post-card__tags {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
}

.post-card__tag {
	padding: 6px 12px;
	font-size: 0.85rem;
}

/* ========== 按讚按鈕 ========== */
.post-like-form,
.post-delete-form {
	margin: 0;
}

.post-like-button {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 8px 16px;
	border-radius: 999px;
	border: 1px solid rgba(239, 68, 68, 0.3);
	background: rgba(239, 68, 68, 0.1);
	color: #fca5a5;
	font-weight: 600;
	font-size: 0.9rem;
	transition: var(--transition-fast);
}

.post-like-button:hover {
	border-color: var(--color-danger);
	background: rgba(239, 68, 68, 0.2);
	transform: scale(1.05);
}

/* ========== 評論區塊 ========== */
.comment-section {
	margin-top: 32px;
	display: grid;
	gap: 20px;
}

.comment-thread {
	display: grid;
	gap: 20px;
}

.comment {
	display: flex;
	gap: 16px;
}

.comment__avatar {
	width: 48px;
	height: 48px;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--color-brand), var(--color-accent));
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: 700;
	color: white;
	flex-shrink: 0;
}

.comment__content {
	flex: 1;
	display: grid;
	gap: 10px;
	padding-bottom: 16px;
	border-bottom: 1px solid var(--color-border);
}

.comment__header {
	display: flex;
	gap: 12px;
	flex-wrap: wrap;
	font-size: 0.9rem;
	color: var(--color-text-secondary);
}

.comment__header strong {
	color: var(--color-text);
}

.comment__text {
	margin: 0;
	line-height: 1.7;
	color: var(--color-text);
}

/* ========== 評論表單 ========== */
.comment-form {
	display: flex;
	gap: 16px;
	align-items: flex-start;
	padding: 20px;
	border-radius: var(--radius-lg);
	border: 1px solid var(--color-border);
	background: var(--color-surface);
}

.comment-form__avatar {
	width: 44px;
	height: 44px;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--color-brand), var(--color-accent));
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: 700;
	color: white;
	flex-shrink: 0;
}

.comment-form__fields {
	flex: 1;
	display: grid;
	gap: 12px;
}

.comment-form__input {
	width: 100%;
	border: none;
	border-bottom: 1px solid var(--color-border);
	background: transparent;
	color: var(--color-text);
	padding: 10px 0;
	resize: vertical;
	min-height: 48px;
}

.comment-form__input:focus {
	outline: none;
	border-color: var(--color-brand);
}

.comment-form__actions {
	display: flex;
	gap: 12px;
	align-items: center;
	flex-wrap: wrap;
}

.comment-form__submit {
	background: linear-gradient(135deg, var(--color-brand), var(--color-accent));
	color: white;
	font-weight: 600;
	padding: 10px 20px;
	border-radius: 999px;
	transition: var(--transition-base);
}

.comment-form__submit:hover {
	transform: scale(1.05);
	box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* ========== 響應式設計 ========== */
@media (max-width: 960px) {
	.nav-bar {
		flex-direction: column;
		align-items: flex-start;
		gap: 16px;
	}

	.nav-search {
		grid-template-columns: 1fr;
	}

	.layout--with-sidebar {
		grid-template-columns: 1fr;
	}

	.layout--split {
		grid-template-columns: 1fr;
	}
}

@media (max-width: 640px) {
	.page-container {
		width: calc(100% - 32px);
	}

	.card {
		padding: 24px;
	}

	.card--hero {
		padding: 32px 24px;
	}

	.nav-links {
		flex-wrap: wrap;
		width: 100%;
	}

	.nav-actions {
		width: 100%;
		justify-content: space-between;
	}

	.vehicle-grid,
	.recommended-grid {
		grid-template-columns: 1fr;
	}
}

/* ========== 動畫效果 ========== */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.card,
.vehicle-grid__card,
.recommended-card,
.post-card {
	animation: fadeIn 0.4s ease-out;
}

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation: none !important;
		transition: none !important;
	}
}
