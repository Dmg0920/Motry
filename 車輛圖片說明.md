# 車輛圖片說明文件

## 📸 官方圖集（VehicleImage）

### 用途
官方圖集是用來展示車輛的**多張官方照片**，包括：
- 外觀照片（正面、側面、背面）
- 內裝照片（儀表板、座椅、中控台）
- 細節照片（輪圈、燈具、引擎室等）
- 其他官方宣傳圖片

這些圖片會顯示在**車輛詳情頁的「官方圖集」區塊**，以橫向滾動的方式展示。

### 如何新增官方圖集？

#### 方法 1：透過 Django Admin（推薦）

1. **登入 Django Admin**
   - 訪問：`http://localhost:8000/admin/`
   - 使用管理員帳號登入

2. **進入車輛管理頁面**
   - 在左側選單找到「Vehicles」→ 點擊「Vehicles」

3. **選擇要編輯的車輛**
   - 找到要新增圖片的車輛，點擊車輛名稱進入編輯頁面

4. **新增官方圖片**
   - 在編輯頁面下方會看到「Vehicle images」區塊
   - 點擊「+ Add another Vehicle image」
   - 填入：
     - **Image url**：圖片網址（例如：`https://example.com/image.jpg`）
     - **Sort order**：排序順序（數字越小越前面，可選填）
   - 可以一次新增多張圖片
   - 點擊「Save」儲存

5. **排序圖片**
   - 透過 `sort_order` 欄位控制圖片顯示順序
   - 數字越小越靠前
   - 如果沒有設定 `sort_order`，會依照建立順序（ID）排列

#### 方法 2：透過管理指令（自動同步）

如果使用 `sync_carquery` 指令同步車輛資料，系統會自動將 API 提供的圖片加入官方圖集：

```bash
python manage.py sync_carquery --makes BMW Toyota --years 2022 2023
```

---

## 🖼️ 圖片 URL 的用途和新增方式

### 1. **cover_url（封面圖片 URL）**

**用途：**
- 車輛的**單一封面圖片**
- 作為備用圖片，當沒有官方圖集時使用
- 顯示在搜尋結果、首頁推薦等處

**新增方式：**
- 透過 Django Admin 編輯車輛時，在「Cover url」欄位填入圖片網址
- 或透過 `sync_carquery` 指令自動填入

### 2. **VehicleImage（官方圖集）**

**用途：**
- 多張官方圖片，用於展示車輛的各個角度和細節
- 優先顯示在車輛詳情頁

**新增方式：**
- 見上方「官方圖集」說明

### 3. **UserVehicle.image_url（用戶車庫圖片）**

**用途：**
- 用戶為自己車庫中的車輛設定的**自訂封面圖**
- 可以放自己的愛車照片

**新增方式：**
- 在「我的車庫」頁面，新增車輛時填入「自訂封面圖」欄位
- 或編輯已收藏的車輛

---

## 📋 圖片優先順序

系統顯示車輛圖片時的優先順序：

1. **官方圖集第一張**（`vehicle.images.first.image_url`）
2. **備用封面圖**（`vehicle.cover_url`）
3. **自動生成圖片**（fallback image）

---

## 💡 圖片 URL 格式建議

- 支援 `http://` 或 `https://` 開頭的完整網址
- 建議使用 HTTPS 網址確保安全性
- 圖片格式支援：JPG、PNG、WebP 等常見格式
- 建議圖片寬高比：16:9 或 4:3
- 建議圖片大小：寬度至少 800px

### 範例圖片 URL：
```
https://example.com/car-front.jpg
https://cdn.example.com/images/vehicle-side.png
https://i.imgur.com/abc123.jpg
```

---

## 🔧 快速新增多張圖片

如果需要在 Django Admin 中快速新增多張圖片：

1. 在「Vehicle images」區塊中
2. 點擊「+ Add another Vehicle image」多次
3. 一次填入所有圖片 URL 和排序
4. 最後點擊「Save」一次儲存

---

## 📝 注意事項

- **官方圖集**：建議至少上傳 3-5 張不同角度的照片
- **圖片品質**：使用高品質、清晰的圖片能提升使用者體驗
- **版權**：確保使用的圖片有合法授權
- **圖片載入**：如果圖片 URL 失效，系統會自動使用備用圖片

